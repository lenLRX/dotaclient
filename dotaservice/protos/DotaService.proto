syntax = "proto2";

import "dotaservice/protos/dota_gcmessages_common_bot_script.proto";
// import "google/protobuf/empty.proto";

enum Status {
  OK = 0;
  RESOURCE_EXHAUSTED = 8;
}

message Empty {}

message Action {
  required CMsgBotWorldState.Action action = 1;
}

message Observation {
  required Status status = 1;
  optional CMsgBotWorldState world_state = 2;
}

message Config {
  // Intentionally empty.
  optional string game_id = 1;
  required uint32 host_timescale = 2;
  required uint32 ticks_per_observation = 3;
  optional bool render = 4 [default = false];
}

service DotaService {
  rpc reset (Config) returns (Observation) {}
  rpc step (Action) returns (Observation) {}
  rpc clear (Empty) returns (Empty) {}
}
